<!DOCTYPE HTML>
<html>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-46285748-1', 'chiragnagpal.com');
  ga('send', 'pageview');

</script>
<head>
  <title>chirag nagpal</title>
  <meta name="description" content="website description" />
  <meta name="keywords" content="website keywords, website keywords" />
  <meta http-equiv="content-type" content="text/html; charset=windows-1252" />
  <link rel="stylesheet" type="text/css" href="style/style.css" />
</head>

<body>
  <div id="main">
    <div id="header">
      <div id="logo">
        <!-- class="logo_colour", allows you to change the colour of the text -->
        <h1><a href="index.html">chirag<span class="logo_colour"> ~nagpal</span></a></h1>
        <h2>A Computer Engineer..<br> ..Finding His Way Through Circuits</h2>
      </div>
      <div id="menubar">
        <ul id="menu">
          <!-- put class="selected" in the li tag for the selected page - to highlight which page you're on -->
          <li ><a href="index.html">Home</a></li>
          <li class="selected"><a href="projects.html">Projects</a></li>
          <li><a href="talks.html">Talks</a></li>

          <li><a href="cv.html" target="_blank">Resume</a></li>
        </ul>
      </div>
    </div>
    <div id="site_content">
      <div class="sidebar">
        <h1>Projects</h1><hr><br>
<h4>BeagleBone Black and MSP430 based Wireless Sensing</h4>
        <h5>March 30th, 2014</h5>
        <p>An MSP430 based wireless sensor node, communication to a BeagleBone Black with Xbee. The BBB is serving a WebPage with graph of readings using processing.js<br><a href="xbee_bbb.html">Read more</a></p>	
<h4>Laser Pointer Controlled With A PC Mouse</h4>
        <h5>December 16th, 2013</h5>
        <p>Here, I Interfaced servo motors with an Arduino UNO, to control a laser pointer with the laptop.<br><a href="laser_gun.html">Read more</a></p>
	<h4>Water level detector and Motor Controller</h4>
        <h5>December 6th, 2013</h5>
        <p>I developed an embedded system capable of detecting the level of water in a tank, and automatically triggering a motor.<br><a href="water_level.html">Read more</a></p>
 <h4>Morse Code Generator on MSP430</h4>
        <h5>July 6th, 2013</h5>
        <p>A Morse Code Generator using a standard PS/2 Keyboard, an LCD and a Piezo Buzzer with the MSP430 at heart.<br><a href="morse_gen.html">Read more</a></p></li>
</ul>      
</div>
      <div id="content">

        <h1>Laser Pointer Controlled with a PC Mouse</h1>
<hr>	
<br>
<p>So vacations are on, and having been nelecting my old pal, the arduino for a long time I decided to implement something on it.</p>
<p>
I had a servo motor lying around, and wanted to use it, to control the direction of a laser pointer, however I needed 2, inorder to control motion in the both the axis. A quick trip to Lajpat Rai, the local electronics market in Delhi, and I had a new shining mini-servo! </p>

<p>The old one looked a little more robust and so I decided to use it as a 'Base', which was created with a perfboard! The second servo motor was mounted on the base with double sided tape, here is the picture of the setup.</p><img src=laser.JPG width=100%><br><br>
<p>Ofcourse the servos 'Pulse' pins were wired up with the arduino PWM pins(9 and 10). So the hardware was ready, next was the software.<br><br><img src="laser_fz.png">
</p>

<p>To take the coordinates from the laptop and send them to the Arduino through serial over UART, I used a small python script. The Python script uses the Xlib standard library to get the laptop coordinates. Serial connection is established using the standard pyserial library. For each coordinate python sends two characters to the Arduino, the first one is an alphabet that tells the arduino if it is the X or the Y coordinate. The second, here is the most interesting part, is the mouse coordinate that is scaled down to '127'(Max value of a char) and typecast from integer to char and sent over to the Arduino. At the Arduinos end, it again typecasts the value back to an integer and scales it upto 180 (to get the direction of the servo in degrees). Basically, here im fooling python to send coordinates as a single character. I had to do this as I wanted the servos to respond to the coordinates as quickly as possible, in case I had sent 3 characters to the Arduino over UART for the servo angle, I would have spent as much as 3x the bus cycles required to send a single coordinate, thus greatly reducing the response time.
<p>The project is simple and quick to implement, however, trust me it promises hours of endless fun. If you have 2 spare servos lying around, do implement it. 
Though the project does what it is intended to, I plan to take it further in the future sometime, probably port it to the MSP430 or create a 'text projector' with the BeagleBone Black. Take a look at the video of it in action. :)

<object width="560" height="315"><param name="movie" value="//www.youtube.com/v/lhKKV6VzI_A?version=3&amp;hl=en_GB"></param><param name="allowFullScreen" value="true"></param><param name="allowscriptaccess" value="always"></param><embed src="//www.youtube.com/v/lhKKV6VzI_A?version=3&amp;hl=en_GB" type="application/x-shockwave-flash" width="560" height="315" allowscriptaccess="always" allowfullscreen="true"></embed></object>
<HR>

<h1>Featured on:
<br>
<br>
<center>
<a href="http://dangerousprototypes.com/2013/12/18/laser-pointer-controlled-with-a-pc-mouse/01111"><img src='Dangerous-Prototypes.jpg' width='450'></a>
</center>
</div>

    </div>
<br>
<div id="logo">  
<h2>chiragnagpal94@hotmail.com</h2>

</div>  
</div>
</body>
</html>
